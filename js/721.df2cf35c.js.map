{"version":3,"file":"js/721.df2cf35c.js","mappings":"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","sources":["webpack://a/./src/views/table.vue","webpack://a/src/views/table.vue","webpack://a/./src/views/table.vue?907e","webpack://a/./src/views/table.vue?616f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('MyTable',{attrs:{\"tableData\":_vm.tableData,\"columns\":_vm.columns,\"dicts\":_vm.dictArr},scopedSlots:_vm._u([{key:\"cell-type\",fn:function({ scope }){return [_c('span',[(scope.row.isSatr)?_c('span',[_c('i',{staticClass:\"el-icon-delete\"})]):_vm._e(),(scope.row.type == '0')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"0类型\")]):_vm._e(),(scope.row.type == '1')?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"1类型\")]):_vm._e()],1)]}},{key:\"cell-progress\",fn:function({ scope }){return [_c('span',[_c('el-progress',{attrs:{\"percentage\":scope.row.progress}})],1)]}},{key:\"cell-address\",fn:function({ scope }){return [_c('span',[_vm._v(\" \"+_vm._s(scope.row.address)+\" \")])]}}])}),_c('MyPagination')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- 表格组件 -->\r\n        <MyTable :tableData=\"tableData\" :columns=\"columns\" :dicts=\"dictArr\">\r\n            <template v-slot:cell-type=\"{ scope }\">\r\n                <span>\r\n                    <span v-if=\"scope.row.isSatr\">\r\n                        <i class=\"el-icon-delete\"></i>\r\n                    </span>\r\n                    <el-tag v-if=\"scope.row.type == '0'\" type=\"success\">0类型</el-tag>\r\n                    <el-tag v-if=\"scope.row.type == '1'\" type=\"warning\">1类型</el-tag>\r\n                </span>\r\n            </template>\r\n\r\n            <template v-slot:cell-progress=\"{ scope }\">\r\n                <span>\r\n                    <el-progress :percentage=\"scope.row.progress\"></el-progress>\r\n                </span>\r\n            </template>\r\n\r\n            <template v-slot:cell-address=\"{ scope }\">\r\n                <span>\r\n                    {{ scope.row.address }}\r\n                </span>\r\n            </template>\r\n        </MyTable>\r\n        <MyPagination></MyPagination>\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    dicts: ['licensetype', 'approvalcontent'],\r\n    components: {\r\n        // 引入组件\r\n        MyTable: () => import('../components/Table/index.vue'),\r\n        MyPagination: () => import('../components/Pagination/index.vue'),\r\n    },\r\n    data() {\r\n        return {\r\n            tableData: [{\r\n                date: '2016-05-02',\r\n                name: '王小虎',\r\n                type: \"0\",\r\n                address: '上海市普陀区金沙江路 1518 弄',\r\n                status: \"0\"\r\n            }, {\r\n                date: '2016-05-04',\r\n                name: '王小虎',\r\n                type: \"1\",\r\n                address: '上海市普陀区金沙江路 1517 弄',\r\n                status: \"0\"\r\n            }, {\r\n                date: '2016-05-01',\r\n                name: '王小虎',\r\n                type: \"0\",\r\n                address: '上海市普陀区金沙江路 1519 弄',\r\n                status: \"0\"\r\n            }, {\r\n                date: '2016-05-03',\r\n                name: '王小虎',\r\n                type: \"0\",\r\n                address: '上海市普陀区金沙江路 1516 弄',\r\n                status: \"0\",\r\n                age: \"0\",\r\n                isSatr: true,\r\n                progress: 50\r\n            }\r\n            ],\r\n            columns: [\r\n                {\r\n                    prop: \"date\",\r\n                    label: \"日期\",\r\n\r\n                    width: \"120\",\r\n                    isHeader: true,\r\n                    element: \"input\"\r\n                },\r\n                {\r\n                    prop: \"name\",\r\n                    label: \"姓名\",\r\n\r\n                    width: \"120\",\r\n                    isHeader: true,\r\n                    element: \"select\"\r\n                },\r\n                {\r\n                    prop: \"address\",\r\n                    label: \"地址\",\r\n\r\n                    isHeader: true,\r\n                    width: \"100\",\r\n                    show_overflow_tooltip: true\r\n                },\r\n                {\r\n                    prop: \"type\",\r\n                    label: \"类型\",\r\n\r\n                    isHeader: true,\r\n                    isApiDict: false\r\n                },\r\n                {\r\n                    prop: \"status\",\r\n                    label: \"状态\",\r\n\r\n                    isHeader: true,\r\n                    isApiDict: true\r\n                },\r\n                {\r\n                    prop: \"age\",\r\n                    label: \"状态年龄\",\r\n\r\n                    isHeader: true,\r\n                    isApiDict: true\r\n                },\r\n\r\n                {\r\n                    prop: \"progress\",\r\n                    label: \"进度\",\r\n                    isHeader: true,\r\n\r\n                    isApiDict: true\r\n                }\r\n            ],\r\n            dictArr: [\r\n                {\r\n                    type: [\r\n                        {\r\n                            label: \"0类型\",\r\n                            value: \"0\"\r\n                        },\r\n                        {\r\n                            label: \"1类型\",\r\n                            value: \"1\"\r\n                        }\r\n                    ],\r\n                    name: [\r\n                        {\r\n                            label: \"0类型111\",\r\n                            value: \"0\"\r\n                        },\r\n                        {\r\n                            label: \"1类型\",\r\n                            value: \"1\"\r\n                        }\r\n                    ],\r\n                }\r\n            ]\r\n        };\r\n    },\r\n    methods: {\r\n\r\n        async getInfomation(arr) {\r\n            const describeMap = {\r\n                status: () => this.statusFnc(),\r\n                age: () => this.ageFnc()\r\n            };\r\n            for (const key of arr) {\r\n                if (describeMap[key]) {\r\n                    const result = await describeMap[key](); // 等待异步函数完成\r\n                    this.setDictArr(key, result); // 更新对应的列选项\r\n                } else {\r\n                    console.log(\"没找到你需要的职位描述！\");\r\n                }\r\n            }\r\n        },\r\n        async ageFnc() {\r\n            // 这里是模拟的异步请求，实际应用中应替换为实际的 API 调用\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    resolve([{ label: \"0年龄\", value: \"0\" }]); // 假设这是从接口返回的数据\r\n                }, 10);\r\n            });\r\n        },\r\n        async statusFnc() {\r\n            // 这里是模拟的异步请求，实际应用中应替换为实际的 API 调用\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    resolve([{ label: \"教室\", value: \"0\" }]); // 假设这是从接口返回的数据\r\n                }, 10);\r\n            });\r\n        },\r\n        setDictArr(prop, options) {\r\n            let obj = {}\r\n            obj[prop] = options; // 这里 prop 是动态计算的属性名\r\n            console.log(obj, \"obj\");\r\n\r\n            this.dictArr.push(obj)\r\n\r\n\r\n\r\n\r\n\r\n            // const column = this.columns.find(c => c.prop == prop);\r\n            // if (column) {\r\n            //   column.options = options;\r\n            // }\r\n        }\r\n    },\r\n    mounted() {\r\n        let needToGetInfo = false; // 标记是否需要调用 getInfomation\r\n\r\n        this.columns.forEach(column => {\r\n            // 检查是否需要从字典数组中获取数据\r\n            if (!column.isApiDict) {\r\n                const dict = this.dictArr.find(dict => dict[column.prop]);\r\n                if (dict) {\r\n                    column.options = dict[column.prop];\r\n                }\r\n            } else {\r\n                needToGetInfo = true; // 如果字典中没有找到，则设置标记为 true\r\n            }\r\n        });\r\n        if (needToGetInfo) {\r\n            let arr = this.columns.filter(r => r.hasOwnProperty('isApiDict') && r.isApiDict).map(i => i.prop)\r\n            this.getInfomation(arr);\r\n        }\r\n\r\n        console.log(this.columns, \"-------\");\r\n\r\n\r\n        return\r\n        // console.log(this.dict);\r\n        // this.$on('dictReady', () => {\r\n        console.log('字典数据已加载:', this.dict);\r\n        // });\r\n\r\n        let img = document.getElementsByTagName(\"img\");\r\n\r\n        const observer = new IntersectionObserver(changes => {\r\n            //changes 是被观察的元素集合\r\n            for (let i = 0, len = changes.length; i < len; i++) {\r\n                let change = changes[i];\r\n\r\n                // 通过这个属性判断是否在视口中\r\n                if (change.isIntersecting) {\r\n                    const imgElement = change.target;\r\n                    imgElement.src = imgElement.getAttribute(\"data-src\");\r\n                    console.log(imgElement.src);\r\n\r\n                    observer.unobserve(imgElement);\r\n                }\r\n            }\r\n        })\r\n        Array.from(img).forEach(item => observer.observe(item));\r\n\r\n    }\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./table.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./table.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./table.vue?vue&type=template&id=560fd5ea\"\nimport script from \"./table.vue?vue&type=script&lang=js\"\nexport * from \"./table.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","tableData","columns","dictArr","scopedSlots","_u","key","fn","scope","row","isSatr","staticClass","_e","type","_v","progress","_s","address","staticRenderFns","dicts","components","MyTable","MyPagination","data","date","name","status","age","prop","label","width","isHeader","element","show_overflow_tooltip","isApiDict","value","methods","getInfomation","arr","describeMap","statusFnc","ageFnc","result","setDictArr","console","log","Promise","resolve","setTimeout","options","obj","push","mounted","needToGetInfo","forEach","column","dict","find","filter","r","hasOwnProperty","map","i","component"],"sourceRoot":""}